
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Blog Bom!!BO!">
    <title>Spring Boot Operational Principle - Blog Bom!!BO!</title>
    <meta name="author" content="Eddie Lee">
    
    
    
    <meta name="description" content="好久没写博客了，这两天跟教授聊天，提到开始用spring boot，教授问我一系列问题，很多都没有回答上来，此篇博文总结下这两天关于Spring boot工作原理的学习">
<meta name="keywords" content="FrameWork">
<meta property="og:type" content="blog">
<meta property="og:title" content="Spring Boot Operational Principle">
<meta property="og:url" content="http://yoursite.com/2018/09/14/Spring-Boot-Operational-Principle/index.html">
<meta property="og:site_name" content="Blog Bom!!BO!">
<meta property="og:description" content="好久没写博客了，这两天跟教授聊天，提到开始用spring boot，教授问我一系列问题，很多都没有回答上来，此篇博文总结下这两天关于Spring boot工作原理的学习">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-09-18T06:46:01.850Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Spring Boot Operational Principle">
<meta name="twitter:description" content="好久没写博客了，这两天跟教授聊天，提到开始用spring boot，教授问我一系列问题，很多都没有回答上来，此篇博文总结下这两天关于Spring boot工作原理的学习">
    
    
        
    
    
        <meta property="og:image" content="http://yoursite.com/assets/images/photo.png"/>
    
    
        <meta property="og:image" content="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=960265520,2932106354&amp;fm=27&amp;gp=0.jpg"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=960265520,2932106354&amp;fm=27&amp;gp=0.jpg" />
    
    
        <meta property="og:image" content="http://old.bz55.com/uploads/allimg/150719/139-150GZZ039.jpg"/>
        <meta class="swiftype" name="image" data-type="enum" content="http://old.bz55.com/uploads/allimg/150719/139-150GZZ039.jpg" />
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/font-awesome.css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox.css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox-thumbs.css">
    <link rel="stylesheet" href="/assets/css/tranquilpeak.css">
    <!--STYLES END-->
    
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">Blog Bom!!BO!</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="/assets/images/photo.png" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/photo.png" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Eddie Lee</h4>
                
                    <h5 class="sidebar-profile-bio"><p>Once work as assistant teacher</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/RadianceL" target="_blank" rel="noopener">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="http://stackoverflow.com/users" target="_blank" rel="noopener">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-stack-overflow"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
        <div class="post-header-cover
                    text-left
                    "
             style="background-image:url('http://old.bz55.com/uploads/allimg/150719/139-150GZZ039.jpg');"
             data-behavior="4">
            
                <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title" itemprop="headline">
            Spring Boot Operational Principle
        </h1>
    
    
        <div class="post-meta">
    <time itemprop="datePublished" datetime="2018-09-14T12:09:40+08:00">
	
		    Sep 14, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Java/">Java</a>


    
</div>

    
</div>
            
        </div>

            <div id="main" data-behavior="4"
                 class="hasCover
                        hasCoverMetaIn
                        ">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
    
    <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap">
            <p>好久没写博客了，这两天跟教授聊天，提到开始用spring boot，教授问我一系列问题，很多都没有回答上来，此篇博文总结下这两天关于Spring boot工作原理的学习<br><a id="more"></a></p>
<h1 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h1><p>Spring 可以说构成了Java之所以这么流行的核心原因，那Spring的核心，两个最为核心的就是IOC（控制反转）与AOP（动态代理）。</p>
<h3 id="IOC"><a href="#IOC" class="headerlink" title="IOC"></a>IOC</h3><p>那么什么是IOC，原本我们在一个类（A）依赖另一个类（B）的时候，需要在使用类（A类）的类new出来（B类），那么这个操作，耦合度非常高，如果哪天我们不用那个类（B），改用类（C），那么所有原本依赖（B）的类都要改。</p>
<p>那IOC是怎么实现的控制反转呢。<br>一种是DI（dependency injection,依赖注入），另一种是DL（dependency lookup，依赖查找）</p>
<p>第一种是主动注入，另一种是当需要的时候去查找依赖。<br>通常<code>context.getBean(...)</code>这种方式就是DL，去找依赖，而<code>@Autowired</code>是依赖注入（DI）</p>
<h3 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h3><p>AOP面向切面编程其实说白了，就是封装了多个类的公共行为到一个可重用模块<br>AOP是通过Java的动态代理机制来实现的，通过配置和注解的方式，让Spring找到需要被代理的类，然后动态代理这个类，实现在方法，类等执行之前，和之后做的增强操作，一般用于权限，缓存，调试，记录跟踪，错误处理等。</p>
<h3 id="Spring-Annotation"><a href="#Spring-Annotation" class="headerlink" title="Spring Annotation"></a>Spring Annotation</h3><p><code>@Configuration</code><br>任何一个标注了<code>@Configuration</code>的Java类定义都是一个JavaConfig配置类。包括SpringBoot的<code>@SpringBootApplicaton</code>,里面也是包含了一个<code>@Configuration</code>,所以Spring Boot的启动类，也是一个JavaConfig。</p>
<p><code>@Bean</code><br>任何一个标注了<code>@Bean</code>的方法，其返回值将作为一个bean定义注册到Spring的IOC容器，方法名将默认成为该Bean定义的id。</p>
<p><code>@ComponentScan</code><br>用于配合一些元信息Java annotation，比如<code>@Component</code>和<code>@Repository</code>等，将标注了这些元信息annotation的bean定义类批量采集到spring的IOC容器中。可以通过basePackages等属性来细粒度地定制<code>@ComponentScan</code>自动扫描的范围，如果不指定，则默认spring框架实现会从声明<code>@ComponentScan</code>所在类的package进行扫描。</p>
<p><code>@PropertySource</code>与<code>@PropertySources</code></p>
<p><code>@PropertySource</code>用于从某些地方加载*.properties文件内容，并将其中的属性加载到IOC容器中，便于填充一些bean定义属性的占位符。</p>
<p><code>@Import</code>与<code>@ImportResource</code></p>
<p><code>@Import</code>负责引入JavaConfig形式定义的IOC容器配置，如果有一些遗留的配置或者遗留系统需要以xml的形式来配置（比如dubbo框架），我们依然可以通过<code>@ImportResource</code>将它们一起合并到当前JavaConfig配置的容器中。</p>
<h3 id="Spring-IOC启动"><a href="#Spring-IOC启动" class="headerlink" title="Spring IOC启动"></a>Spring IOC启动</h3><p>Spring IOC容器的依赖注入工作可以分为两个阶段：</p>
<ol>
<li>收集和注册<ul>
<li>第一个阶段可以认为是构建和收集bean定义的阶段，在这个阶段，我们可以通过xml或者Java代码的方式定义一些bean，然后通过手动组装或者让容器基于某些机制自动扫描的方式，将这些bean定义收集到ioc容器中。</li>
<li>IOC 底层其实是一个Map，把所有的Bean加载到这个Map当中，根据相关机制获取，如果找不到，就会抛出异常，如果配置或bean加载出错，也会在容器启动时报错</li>
</ul>
</li>
<li>分析和组装<ul>
<li>当第一个阶段完成后，底层Map容器中有一个个Bean，暂时它们之间是没有什么关系的，第二阶段要做的，就是分析Bean里面的关系，把它们组合起来，达到可用的状态</li>
</ul>
</li>
</ol>
<p>默认情况下（无单独配置），Spring加载的Bean对象都是单例模式，每次被注入或者被查找，都是同一个对象（hashCode相同）</p>
<h1 id="Spring-Boot"><a href="#Spring-Boot" class="headerlink" title="Spring Boot"></a>Spring Boot</h1><p>SpringBoot并不是对Spring Web框架进行颠覆，而是不同的bean互相作用，如果我们把Spring想象成人体，把Bean当做细胞的话，那么正是不同种类bean的相互协作才使得spring这个大工厂正常运行，有些bean做管理工作，有些bean为其它bean服务，有些bean生产其它bean，通过协作完成功能，而SpringBoot则是有默认约定，帮助完成了大部分Bean的配置，大量简化了需要开发人员编写的配置项。Spring Boot并不是对原有Spring框架的颠覆，而是基于原有功能的一次进化。</p>
<p>一个典型的Spring Boot项目，就是有一个由<code>@SpringBootApplication</code>注释的main函数<br>进入到<code>@SpringBootApplication</code>，会发现里面有<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target</span>(ElementType.TYPE)</span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Inherited</span></span><br><span class="line"><span class="meta">@SpringBootConfiguration</span> <span class="comment">//核心</span></span><br><span class="line"><span class="meta">@EnableAutoConfiguration</span> <span class="comment">//核心</span></span><br><span class="line"><span class="meta">@ComponentScan</span>(excludeFilters = &#123;<span class="meta">@Filter</span>(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),<span class="meta">@Filter</span>(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class)&#125;) <span class="comment">//核心</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> SpringBootApplication &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><code>@EnableAutoConfiguration</code>作为一个复合annotation，其中最关键的要属<code>@Import(AutoConfigurationImportSelector.class)</code>，借助AutoConfigurationImportSelector，<code>@EnableAutoConfiguration</code>可以帮助springboot应用将所有符合条件的<code>@Configuration</code>配置都加载到当前Spring Boot创建并使用的IOC容器，就跟一只八爪鱼一样。<br>AutoConfigurationImportSelector借助spring框架原有的一个工具类SpringFactoriesLoader的支持，<code>@EnableAutoConfiguration</code>可以智能地完成自动配置。</p>
<p>配合<code>@EnableAutoConfiguration</code>使用的话，它更多是提供一种配置查找的功能支持，即根据<code>@EnableAutoConfiguration</code>的完整类名<code>org.springframework.boot.autoconfigure.EnableAutoConfiguration</code>作为查找的Key，获取对应的一组<code>@Configuration</code>类。<br>所以，<code>@EnableAutoConfiguration</code>自动配置就变成了: 从classpath中搜寻所有的<code>META-INF/spring.factories</code>配置文件，并将其中<code>org.springframework.boot.autoconfigure.EnableutoConfiguration</code>对应的配置项通过反射（Java Refletion）实例化为对应的标注了<code>@Configuration的JavaConfig</code>形式的IoC容器配置类，然后汇总为一个并加载到IoC容器。</p>
<p><code>SpringFactoriesLoader</code>主要功能是从指定的配置文件<code>META-INF/spring.factories</code>加载配置，<code>spring.factories</code>是一个典型的Java properties文件，配置的格式为key=value形式，只不过key和value都是Java类型的完整类型。</p>
<h2 id="那么，既然Spring-Boot的启动项也被-SpringBootConfiguration注释了，那么说明这也是一个配置类。"><a href="#那么，既然Spring-Boot的启动项也被-SpringBootConfiguration注释了，那么说明这也是一个配置类。" class="headerlink" title="那么，既然Spring Boot的启动项也被@SpringBootConfiguration注释了，那么说明这也是一个配置类。"></a>那么，既然Spring Boot的启动项也被<code>@SpringBootConfiguration</code>注释了，那么说明这也是一个配置类。</h2><p>Spring Boot最强的地方，在于约定大于配置，所谓开箱即用，那么，约定是怎么做的呢？</p>
<p>Spring Boot AutoConfig类里面，默认编写了很多配置类，实现约定的核心就是，Boot导入这些配置，变成Bean对象<br>那么Spring Boot的启动顺序就应该是：</p>
<ol>
<li>如果我们使用的是<code>SpringApplication</code>的静态run方法，那么，这个方法里面首先要创建一个<code>SpringApplication</code>对象实例，然后调用这个创建好的<code>SpringApplication</code>的实例方法。在<code>SpringApplication</code>实例初始化的时候，它会提前做几件事情：<ul>
<li>根据classpath里面是否存在某个特征类<code>org.springframework.web.context.ConfigurableWebApplicationContext</code>来决定是否应该创建一个为Web应用使用的<code>ApplicationContext</code>类型。</li>
<li>使用<code>SpringFactoriesLoader</code>在应用的classpath中查找并加载所有可用的<code>ApplicationContextInitializer</code>。</li>
<li>使用<code>SpringFactoriesLoader</code>在应用的classpath中查找并加载所有可用的<code>ApplicationListener</code>。</li>
<li>推断并设置main方法的定义类。</li>
</ul>
</li>
<li><code>SpringApplication</code>实例初始化完成并且完成设置后，就开始执行run方法的逻辑了，方法执行伊始，首先遍历执行所有通过<code>SpringFactoriesLoader</code>可以查找到并加载的<code>SpringApplicationRunListener</code>。调用它们的started()方法，告诉这些<code>SpringApplicationRunListener</code>，“嘿，SpringBoot应用要开始执行咯！”。<ul>
<li>创建并配置当前Spring Boot应用将要使用的<code>Environment</code>（包括配置要使用的PropertySource以及Profile）。</li>
<li>遍历调用所有<code>SpringApplicationRunListener</code>的environmentPrepared()的方法，告诉他们：“当前SpringBoot应用使用的Environment准备好了咯！”。</li>
<li>如果<code>SpringApplication的showBanner</code>属性被设置为true，则打印banner。</li>
<li>根据用户是否明确设置了<code>applicationContextClass</code>类型以及初始化阶段的推断结果，决定该为当前SpringBoot应用创建什么类型的<code>ApplicationContext</code>并创建完成，然后根据条件决定是否添加<code>ShutdownHook</code>，决定是否使用自定义的<code>BeanNameGenerator</code>，决定是否使用自定义的<code>ResourceLoader</code>，当然，最重要的，将之前准备好的<code>Environment</code>设置给创建好的<code>ApplicationContext</code>使用。</li>
<li><code>ApplicationContext</code>创建好之后，<code>SpringApplication</code>会再次借助<code>Spring-FactoriesLoader</code>，查找并加载classpath中所有可用的<code>ApplicationContext-Initializer</code>，然后遍历调用这些<code>ApplicationContextInitializer</code>的initialize（applicationContext）方法来对已经创建好的<code>ApplicationContext</code>进行进一步的处理。</li>
<li>遍历调用所有<code>SpringApplicationRunListener</code>的contextPrepared()方法。</li>
<li>最核心的一步，将之前通过<code>@EnableAutoConfiguration</code>获取的所有配置以及其他形式的IoC容器配置加载到已经准备完毕的<code>ApplicationContext</code>。</li>
<li>遍历调用所有<code>SpringApplicationRunListener</code>的contextLoaded()方法。</li>
<li>调用<code>ApplicationContext</code>的refresh()方法，完成IoC容器可用的最后一道工序。</li>
<li>遍历调用所有<code>SpringApplicationRunListener</code>的contextLoaded()方法。</li>
<li>查找当前<code>ApplicationContext</code>中是否注册有<code>CommandLineRunner</code>，如果有，则遍历执行它们。</li>
<li>正常情况下，遍历执行<code>SpringApplicationRunListener</code>的finished()方法、（如果整个过程出现异常，则依然调用所有<code>SpringApplicationRunListener</code>的finished()方法，只不过这种情况下会将异常信息一并传入处理）</li>
</ul>
</li>
</ol>
<h1 id="Spring-Boot总结"><a href="#Spring-Boot总结" class="headerlink" title="Spring Boot总结"></a>Spring Boot总结</h1><p>启动：<br>每个SpringBoot程序都有一个主入口，也就是main方法，main里面调用SpringApplication.run()启动整个spring-boot程序，该方法所在类需要使用<code>@SpringBootApplication</code>注解，以及<code>@ImportResource</code>注解(if need)，<code>@SpringBootApplication</code>包括三个注解，功能如下：</p>
<ul>
<li><code>@EnableAutoConfiguration</code>  SpringBoot根据应用所声明的依赖来对Spring框架进行自动配置。</li>
<li><code>@SpringBootConfiguration</code>(内部为@Configuration)  被标注的类等于在spring的XML配置文件中(applicationContext.xml)，装配所有bean事务，提供了一个spring的上下文环境。</li>
<li><code>@ComponentScan</code>：组件扫描，可自动发现和装配Bean，默认扫描<code>SpringApplication</code>的run方法里的<code>Booter.class</code>所在的包路径下文件，所以最好将该启动类放到根包路径下。</li>
</ul>
<p>run方法中去创建了一个<code>SpringApplication</code>实例，在该构造方法内，我们可以发现其调用了一个初始化的<code>initialize</code>方法<br>主要是为<code>SpringApplication</code>对象赋一些初值。构造函数执行完毕后，我们回到run方法</p>
<ol>
<li>创建了应用的监听器<code>SpringApplicationRunListeners</code>并开始监听</li>
<li><p>加载Spring Boot配置环境<code>ConfigurableEnvironment</code>，如果是通过web容器发布，会加载<code>StandardEnvironment</code>，其最终也是继承了<code>ConfigurableEnvironment*Environment</code>最终都实现了P<code>ropertyResolver</code>接口，我们平时通过<code>environment</code>对象获取配置文件中指定Key对应的value方法时，就是调用了<code>propertyResolver</code>接口的getProperty方法</p>
</li>
<li><p>配置环境<code>Environment</code>加入到监听器对象中<code>SpringApplicationRunListeners</code></p>
</li>
<li><p>创建run方法的返回对象：<code>ConfigurableApplicationContext</code>(应用配置上下文)，我们可以看一下创建方法</p>
<ul>
<li>方法会先获取显式设置的应用上下文<code>applicationContextClass</code>，如果不存在，再加载默认的环境配置（通过是否是web environment判断），默认选择<code>AnnotationConfigApplicationContext</code>注解上下文（通过扫描所有注解类来加载bean），最后通过<code>BeanUtils</code>实例化上下文对象，并返回。</li>
</ul>
</li>
</ol>
<p><code>ConfigurableApplicationContext</code> 的继承树中实现了LifeCycle和ApplicationContext：<br>LifeCycle：生命周期类，定义了start启动、stop结束、isRunning是否运行中等生命周期空值方法<br>ApplicationContext：应用上下文类，其主要继承了beanFactory(bean的工厂类)</p>
<ol>
<li><p>回到run方法内，<code>prepareContext</code>方法将<code>listeners</code>、<code>environment</code>、<code>applicationArguments</code>、<code>banner</code>等重要组件与上下文对象关联</p>
</li>
<li><p>接下来的refreshContext<code>context</code>方法(初始化方法如下)将是实现<code>spring-boot-starter-(mybatis、redis...)</code>自动化配置的关键，包括<code>spring.factories</code>的加载，bean的实例化等核心工作。</p>
</li>
</ol>
<p>配置结束后，Spring Boot做了一些基本的收尾工作，返回了应用环境上下文。回顾整体流程，Spring Boot的启动，主要创建了配置环境(environment)、事件监听(listeners)、应用上下文(applicationContext)，并基于以上条件，在容器中开始实例化我们需要的Bean，至此，通过Spring Boot启动的程序已经构造完成，接下来我们来探讨自动化配置是如何实现。</p>
<h2 id="自动配置"><a href="#自动配置" class="headerlink" title="自动配置"></a>自动配置</h2><p>之前的启动结构中，我们注意到无论是应用初始化还是具体的执行过程，都调用了Spring Boot自动配置模块。</p>
<p>该配置模块的主要使用到了<code>SpringFactoriesLoader</code>，即Spring工厂加载器，该对象提供了<code>loadFactoryNames</code>方法，入参为<code>factoryClass</code>和<code>classLoader</code>，即需要传入上图中的工厂类名称和对应的类加载器，方法会根据指定的<code>classLoader</code>，加载该类加器搜索路径下的指定文件，即<code>spring.factories</code>文件，传入的工厂类为接口，而文件中对应的类则是接口的实现类，或最终作为实现类，所以文件中一般为如下图这种一对多的类名集合，获取到这些实现类的类名后，loadFactoryNames方法返回类名集合，方法调用方得到这些集合后，再通过反射获取这些类的类对象、构造方法，最终生成实例。</p>
<p><code>mybatis-spring-boot-starter</code>、<code>spring-boot-starter-web</code>等组件的META-INF文件下均含有<code>spring.factories</code>文件，自动配置模块中，<code>SpringFactoriesLoader</code>收集到文件中的类全名并返回一个类全名的数组，返回的类全名通过反射被实例化，就形成了具体的工厂实例，工厂实例来生成组件具体需要的bean。</p>
<p>之前我们提到了<code>EnableAutoConfiguration</code>注解，关注他的类图<br>可以发现其最终实现了<code>ImportSelector</code>(选择器)和<code>BeanClassLoaderAware</code>(bean类加载器中间件)，重点关注一下<code>AutoConfigurationImportSelector</code>的<code>selectImports</code>方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> String[] selectImports(AnnotationMetadata annotationMetadata) &#123;</span><br><span class="line">		<span class="keyword">if</span> (!isEnabled(annotationMetadata)) &#123;</span><br><span class="line">			<span class="keyword">return</span> NO_IMPORTS;</span><br><span class="line">		&#125;</span><br><span class="line">		AutoConfigurationMetadata autoConfigurationMetadata = AutoConfigurationMetadataLoader</span><br><span class="line">				.loadMetadata(<span class="keyword">this</span>.beanClassLoader);</span><br><span class="line">		AnnotationAttributes attributes = getAttributes(annotationMetadata);</span><br><span class="line">		List&lt;String&gt; configurations = getCandidateConfigurations(annotationMetadata,</span><br><span class="line">				attributes);</span><br><span class="line">		configurations = removeDuplicates(configurations);</span><br><span class="line">		Set&lt;String&gt; exclusions = getExclusions(annotationMetadata, attributes);</span><br><span class="line">		checkExcludedClasses(configurations, exclusions);</span><br><span class="line">		configurations.removeAll(exclusions);</span><br><span class="line">		configurations = filter(configurations, autoConfigurationMetadata);</span><br><span class="line">		fireAutoConfigurationImportEvents(configurations, exclusions);</span><br><span class="line">		<span class="keyword">return</span> StringUtils.toStringArray(configurations);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p>该方法在Spring Boot启动流程——bean实例化前被执行，返回要实例化的类信息列表。我们知道，如果获取到类信息，spring自然可以通过类加载器将类加载到jvm中，现在我们已经通过spring-boot的starter依赖方式依赖了我们需要的组件，那么这些组建的类信息在select方法中也是可以被获取到的，不要急我们继续向下分析。</p>
<p>该方法中的<code>getCandidateConfigurations</code>方法，通过方法注释了解到，其返回一个自动配置类的类名列表，方法调用了<code>loadFactoryNames</code>方法，查看该方法<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> List&lt;String&gt; <span class="title">getCandidateConfigurations</span><span class="params">(AnnotationMetadata metadata,</span></span></span><br><span class="line"><span class="function"><span class="params">			AnnotationAttributes attributes)</span> </span>&#123;</span><br><span class="line">		List&lt;String&gt; configurations = SpringFactoriesLoader.loadFactoryNames(</span><br><span class="line">				getSpringFactoriesLoaderFactoryClass(), getBeanClassLoader());</span><br><span class="line">		Assert.notEmpty(configurations,</span><br><span class="line">				<span class="string">"No auto configuration classes found in META-INF/spring.factories. If you "</span></span><br><span class="line">						+ <span class="string">"are using a custom packaging, make sure that file is correct."</span>);</span><br><span class="line">		<span class="keyword">return</span> configurations;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>在上面的代码可以看到自动配置器会根据传入的<code>factoryClass.getName()</code>到项目系统路径下所有的<code>spring.factories</code>文件中找到相应的key，从而加载里面的类。我们就选取这个<code>mybatis-spring-boot-autoconfigure</code>下的<code>spring.factories</code>文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Auto Configure</span><br><span class="line">org.springframework.boot.autoconfigure.EnableAutoConfiguration=\</span><br><span class="line">org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration</span><br></pre></td></tr></table></figure>
<p>进入<code>org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration</code>中，主要看一下类头：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@org</span>.springframework.context.annotation.Configuration</span><br><span class="line"><span class="meta">@ConditionalOnClass</span>(&#123; SqlSessionFactory.class, SqlSessionFactoryBean.class &#125;)</span><br><span class="line"><span class="meta">@ConditionalOnBean</span>(DataSource.class)</span><br><span class="line"><span class="meta">@EnableConfigurationProperties</span>(MybatisProperties.class)</span><br><span class="line"><span class="meta">@AutoConfigureAfter</span>(DataSourceAutoConfiguration.class)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisAutoConfiguration</span></span></span><br></pre></td></tr></table></figure>
<p>发现Spring的<code>@Configuration</code>，俨然是一个通过注解标注的springBean，继续向下看，</p>
<p><code>@ConditionalOnClass({ SqlSessionFactory.class, SqlSessionFactoryBean.class})</code>这个注解的意思是：当存在SqlSessionFactory.class, SqlSessionFactoryBean.class这两个类时才解析MybatisAutoConfiguration配置类，否则不解析这一个配置类，make sence，我们需要mybatis为我们返回会话对象，就必须有会话工厂相关类。</p>
<p><code>@CondtionalOnBean(DataSource.class)</code>：只有处理已经被声明为bean的dataSource。</p>
<p><code>@ConditionalOnMissingBean(MapperFactoryBean.class)</code>这个注解的意思是如果容器中不存在name指定的bean则创建bean注入，否则不执行（该类源码较长，篇幅限制不全粘贴）</p>
<p>以上配置可以保证<code>sqlSessionFactory</code>、<code>sqlSessionTemplate</code>、<code>dataSource</code>等mybatis所需的组件均可被自动配置，<code>@Configuration</code>注解已经提供了Spring的上下文环境，所以以上组件的配置方式与Spring启动时通过<code>mybatis.xml</code>文件进行配置起到一个效果。通过分析我们可以发现，只要一个基于SpringBoot项目的类路径下存在<code>SqlSessionFactory.class</code>, <code>SqlSessionFactoryBean.class</code>，并且容器中已经注册了dataSourceBean，就可以触发自动化配置，意思说我们只要在maven的项目中加入了mybatis所需要的若干依赖，就可以触发自动配置，但引入mybatis原生依赖的话，每集成一个功能都要去修改其自动化配置类，那就得不到开箱即用的效果了。所以Spring-boot为我们提供了统一的starter可以直接配置好相关的类，触发自动配置所需的依赖(mybatis)如下：</p>
<p>这里是截取的<code>mybatis-spring-boot-starter</code>的源码中<code>pom.xml</code>文件中所有依赖：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependencies&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;mybatis-spring-boot-autoconfigure&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;mybatis&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;/dependencies&gt;</span><br></pre></td></tr></table></figure>
<p>可以看到其中<code>mybatis-spring-boot-autoconfigure</code>就是配置文件，实现开箱即用<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Auto Configure</span><br><span class="line">org.springframework.boot.autoconfigure.EnableAutoConfiguration=\</span><br><span class="line">org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration</span><br></pre></td></tr></table></figure></p>

            
        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/FrameWork/">FrameWork</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/09/18/Data-Structure-Array/"  data-tooltip="Data Structure Array">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/08/02/Multithreading/" data-tooltip="Multithreading">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2018/09/14/Spring-Boot-Operational-Principle/&amp;title=Spring Boot Operational Principle">
                    <i class="fa fa-qq"></i>
                </a>
            </li>
        
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2018 Eddie Lee. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/09/18/Data-Structure-Array/"  data-tooltip="Data Structure Array">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/08/02/Multithreading/" data-tooltip="Multithreading">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2018/09/14/Spring-Boot-Operational-Principle/&amp;title=Spring Boot Operational Principle">
                    <i class="fa fa-qq"></i>
                </a>
            </li>
        
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="4">
    <i id="btn-close-shareoptions" class="fa fa-close"></i>
    <ul class="share-options">
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2018/09/14/Spring-Boot-Operational-Principle/&amp;title=Spring Boot Operational Principle">
                    <i class="fa fa-qq"></i><span>Share on QQ</span>
                </a>
            </li>
        
    </ul>
</div>

            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/photo.png" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">Eddie Lee</h4>
        
            <div id="about-card-bio"><p>Once work as assistant teacher</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Developer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                LN
            </div>
        
    </div>
</div>

        <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-close"></i></span>
            <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search"
                    class="form-control input--large search-input" placeholder="Search "
                    />
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">no post found</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="http://yoursite.com/2017/10/14/Docker/">
                            <img class="media-image" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1508139645889&amp;di=9dc8a170c15298accaeb7aa617b66ad9&amp;imgtype=0&amp;src=http%3A%2F%2Fcdn.rancher.com%2Fwp-content%2Fuploads%2F2015%2F03%2F03030532%2Fdocker-logo-square.png" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://yoursite.com/2017/10/14/Docker/">
                            <h3 class="media-heading">Docker</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Oct 14, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Docker is a software technology providing containers, promoted by the company Docker, Inc.Docker provides an additional layer of abstraction and automation of operating-system-level virtualization on Windows and Linux.</p>
<p><div align="right">—wikipedia</div><br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="http://yoursite.com/2017/11/29/Android-ViewPagerFramgent/">
                            <img class="media-image" src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1715935796,2969849554&amp;fm=27&amp;gp=0.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://yoursite.com/2017/11/29/Android-ViewPagerFramgent/">
                            <h3 class="media-heading">Android-ViewPagerFramgent</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Nov 29, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>I love the programmer, they are simple, stubborn, easy to feel a sense of achievement; facing the pressure, to burn the midnight oil sleepless; in the face of difficulties, difficulties and challenges to.They will feel confused and Panghuang, but each programmer’s heart have a Bill Gates or Jobs’s dream “with wisdom to create their own cause”</p>
<p><div align="right">-Rollen Holt</div><br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="http://yoursite.com/2017/11/29/Java-Reference-Object/">
                            <img class="media-image" src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=960265520,2932106354&amp;fm=27&amp;gp=0.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://yoursite.com/2017/11/29/Java-Reference-Object/">
                            <h3 class="media-heading">Java Reference Object</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Nov 29, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>References and Referents<br>A reference object is a layer of indirection between your program code and some other object, called a referent. Each reference object is constructed around its referent, and the referent cannot be changed.</p>
<p><div align="right">—Keith D Gregory</div><br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="http://yoursite.com/2017/12/28/C-Pointer/">
                            <img class="media-image" src="http://img1.imgtn.bdimg.com/it/u=3116892426,491484301&amp;fm=27&amp;gp=0.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://yoursite.com/2017/12/28/C-Pointer/">
                            <h3 class="media-heading">C-Pointer</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Dec 28, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Today learn pointer form enthusiastic netizen,really appreciate.</p>
<p><div align="right">-土杜土杜</div><br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="http://yoursite.com/2017/12/28/C-static-Library/">
                            <img class="media-image" src="http://img1.imgtn.bdimg.com/it/u=3116892426,491484301&amp;fm=27&amp;gp=0.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://yoursite.com/2017/12/28/C-static-Library/">
                            <h3 class="media-heading">C-static-Library</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Dec 28, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>UNIX is very simple, it just needs a genius to understand its simplicity.</p>
<p><div align="right">-Dennis MacAlistair Ritchie</div><br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="http://yoursite.com/2018/03/20/Redis/">
                            <img class="media-image" src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=960265520,2932106354&amp;fm=27&amp;gp=0.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://yoursite.com/2018/03/20/Redis/">
                            <h3 class="media-heading">Redis</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Mar 20, 2018
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Redis is an open-source in-memory database project implementing a distributed, in-memory key-value store with optional durability. Redis supports different kinds of abstract data structures, such as strings, lists, maps, sets, sorted sets, hyperloglogs, bitmaps and spatial indexes. The project is mainly developed by Salvatore Sanfilippo and is currently sponsored by Redis Labs.[4]</p>
<p><div align="right">—Wikipedia</div><br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="http://yoursite.com/2018/04/05/jenkins/">
                            <img class="media-image" src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=960265520,2932106354&amp;fm=27&amp;gp=0.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://yoursite.com/2018/04/05/jenkins/">
                            <h3 class="media-heading">jenkins</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Apr 5, 2018
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Auto-build tool from git to k8s</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="http://yoursite.com/2018/05/02/Maven-error-list/">
                            <img class="media-image" src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=960265520,2932106354&amp;fm=27&amp;gp=0.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://yoursite.com/2018/05/02/Maven-error-list/">
                            <h3 class="media-heading">Maven error list</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    May 2, 2018
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>人啊，根据重新振作的方法可分为两种：<br>一种是看着比自己卑微的东西，寻找垫底聊以自慰；<br>另一种则是看着比自己伟大的东西，狠狠踢醒毫无气度的自己。</p>
<div align="right">-note</div></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="http://yoursite.com/2018/06/03/Java-Annotation/">
                            <img class="media-image" src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=960265520,2932106354&amp;fm=27&amp;gp=0.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://yoursite.com/2018/06/03/Java-Annotation/">
                            <h3 class="media-heading">Java-Annotation</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Jun 3, 2018
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Annotation<br>I want to learn is by Spring <code>@bean</code>,Want to know how it work.<br>But toke a long time in busy.<br>Until today,There is my notes about Annotation.<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="http://yoursite.com/2018/06/07/Software-Suggest/">
                            <img class="media-image" src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=960265520,2932106354&amp;fm=27&amp;gp=0.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://yoursite.com/2018/06/07/Software-Suggest/">
                            <h3 class="media-heading">Software Suggest</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Jun 7, 2018
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>When I design a interface platform system.<br>I find my system is not elegant realization.<br>Detrimental to maintenance.<br>So this my summary.<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium"
                data-message-zero="no post found"
                data-message-one="1 post found"
                data-message-other="{n} posts found">
                18 posts found
            </p>
        </div>
    </div>
</div>

        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/jquery.fancybox.js"></script>
<script src="/assets/js/jquery.fancybox-thumbs.js"></script>
<script src="/assets/js/tranquilpeak.js"></script>
<!--SCRIPTS END-->

    


    </body>
</html>
